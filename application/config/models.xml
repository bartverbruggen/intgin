<models>
    <model name="Gin" modelClass="intgin\model\GinModel">
        <field name="title" type="string">
            <option name="scaffold.order" value="1" />
            <option name="scaffold.search" value="1" />

            <validation name="required" />
        </field>
        <field name="image" model="Asset" relation="belongsTo">
            <option name="scaffold.form.type" value="assets"/>
        </field>
        <field name="body" type="wysiwyg"></field>
        <field name="mixes" model="Mix" relation="hasMany"></field>
        <field name="isHighlighted" type="boolean">
            <option name="label.name" value="label.highlighted" />
            <option name="label.description" value="label.highlighted.description" />
        </field>

        <format name="title">{title}</format>
        <format name="teaser">{body|truncate:250}</format>
        <format name="image">{image.thumbnail}</format>

        <option name="behaviour.date" value="true" />
        <option name="behaviour.log" value="true" />
        <option name="behaviour.slug" value="title" />
        <option name="behaviour.version" value="true" />
        <option name="order.field" value="title" />
        <option name="cms.node" value="true" />
        <option name="scaffold.expose" value="true" />
        <option name="rest.expose" value="true" />
        <option name="scaffold.title" value="title.gin" />
    </model>
    <model name="Mix">
        <field name="tonic" model="Tonic" relation="belongsTo">
            <option name="scaffold.form.type" value="select"/>
        </field>
        <field name="garnish" model="Garnish" relation="hasMany" order="true">
            <option name="scaffold.form.type" value="select" />
        </field>
    </model>
    <model name="Tonic">
        <field name="title" type="string">
            <option name="scaffold.order" value="1" />
            <option name="scaffold.search" value="1" />

            <validation name="required" />
        </field>
        <field name="image" model="Asset" relation="belongsTo">
            <option name="scaffold.form.type" value="assets"/>
        </field>
        <field name="body" type="wysiwyg"></field>

        <format name="title">{title}</format>
        <format name="teaser">{body|truncate:250}</format>
        <format name="image">{image.thumbnail}</format>

        <option name="behaviour.date" value="true" />
        <option name="behaviour.log" value="true" />
        <option name="behaviour.slug" value="title" />
        <option name="behaviour.version" value="true" />
        <option name="order.field" value="title" />
        <option name="scaffold.expose" value="true" />
        <option name="scaffold.title" value="title.tonic" />
    </model>
    <model name="Garnish">
        <field name="title" type="string">
            <option name="scaffold.order" value="1" />
            <option name="scaffold.search" value="1" />

            <validation name="required" />
        </field>
        <field name="image" model="Asset" relation="belongsTo">
            <option name="scaffold.form.type" value="assets"/>
        </field>
        <field name="body" type="wysiwyg"></field>

        <format name="title">{title}</format>
        <format name="teaser">{body|truncate:250}</format>
        <format name="image">{image.thumbnail}</format>

        <option name="behaviour.date" value="true" />
        <option name="behaviour.log" value="true" />
        <option name="behaviour.slug" value="title" />
        <option name="behaviour.version" value="true" />
        <option name="order.field" value="title" />
        <option name="scaffold.expose" value="true" />
        <option name="scaffold.title" value="title.garnish" />
    </model>
    <model name="MixSuggestion">
        <field name="gin" model="Gin" relation="belongsTo">
            <option name="scaffold.form.omit" value="1"/>
        </field>
        <field name="name" type="string">
            <option name="label.name" value="label.name"/>
            <validation name="required"/>
        </field>
        <field name="email" type="email" />
        <field name="tonic" type="string" />
        <field name="garnish" type="string" />
        <field name="message" type="text" />

        <format name="title">{gin.title}</format>
        <format name="date">{dateAdded|date:d/m/Y}</format>
        <format name="teaser">{name} - {email}</format>

        <option name="behaviour.date" value="true"/>
        <option name="behaviour.log" value="true"/>
        <option name="behaviour.version" value="true"/>
        <option name="scaffold.order" value="dateAdded"/>
        <option name="scaffold.expose" value="1"/>
        <option name="scaffold.title" value="title.gin.mix.suggestion"/>
    </model>
</models>
